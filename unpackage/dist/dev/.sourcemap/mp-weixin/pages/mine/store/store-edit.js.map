{"version":3,"sources":["uni-app:///main.js","webpack:///F:/1A毕设/bnplatform/pages/mine/store/store-edit.vue?9326","webpack:///F:/1A毕设/bnplatform/pages/mine/store/store-edit.vue?1a32","webpack:///F:/1A毕设/bnplatform/pages/mine/store/store-edit.vue?d5b0","webpack:///F:/1A毕设/bnplatform/pages/mine/store/store-edit.vue?2d6c","uni-app:///pages/mine/store/store-edit.vue","webpack:///F:/1A毕设/bnplatform/pages/mine/store/store-edit.vue?022e","webpack:///F:/1A毕设/bnplatform/pages/mine/store/store-edit.vue?2a58"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,0G,6FAFmBA,EAAE,CAACC,iCAAH,GAAuCC,mBAAvC;AAGnBC,UAAU,CAACC,kBAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAuH;AACvH;AAC8D;AACL;AACc;;;AAGvE;AACoL;AACpL,gBAAgB,6LAAU;AAC1B,EAAE,gFAAM;AACR,EAAE,qFAAM;AACR,EAAE,8FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,yFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,sTAEN;AACP,KAAK;AACL;AACA,aAAa,oSAEN;AACP,KAAK;AACL;AACA,aAAa,wUAEN;AACP,KAAK;AACL;AACA,aAAa,sTAEN;AACP;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AChDA;AAAA;AAAA;AAAA;AAA+qB,CAAgB,osBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC8DnsB;AACA,MADA,kBACA;AACA;AACA,gDADA;AAEA,gBAFA;AAGA,mBAHA;AAIA;AACA,gBADA;AAEA,mBAFA;AAGA,qBAHA;AAIA,sBAJA;AAKA,uBALA;AAMA,uBANA;AAOA,mBAPA;AAQA,0BARA,EAJA;;AAcA;AACA;AACA;AACA,0BADA;AAEA,mCAFA,GADA,EADA;;;AAOA;AACA;AACA,0BADA;AAEA,oCAFA,GADA,EAPA;;;AAaA;AACA;AACA,0BADA;AAEA,mCAFA,GADA,EAbA;;;AAmBA;AACA;AACA,0BADA;AAEA,qCAFA;;AAIA;AACA,iHADA;AAEA,sCAFA,EAJA,CADA;;;;AAWA,iCAXA,EAnBA,EAdA;;;;AAgDA;AACA,kBADA;AAEA,oBAFA;;AAIA;AACA,kBADA;AAEA,oBAFA,EAJA;;AAQA;AACA,kBADA;AAEA,oBAFA,EARA;;AAYA;AACA,kBADA;AAEA,oBAFA,EAZA;;AAgBA;AACA,kBADA;AAEA,oBAFA,EAhBA;;AAoBA;AACA,kBADA;AAEA,oBAFA,EApBA,CAhDA;;;AAyEA;AACA,kBA1EA;AA2EA,kBA3EA;AA4EA,mBA5EA;AA6EA;AACA,oBADA;AAEA,qBAFA,GA7EA;;AAiFA;AACA;AACA,0BADA;AAEA,wBAFA,EAlFA;;;AAuFA,GAzFA;AA0FA;AACA;AACA;AACA;AACA;AACA,KAJA,MAIA;AACA;AACA;AACA;AACA;AACA,GApGA;AAqGA;AACA,gCADA;AAEA,8BAFA,EArGA;;AAyGA;AACA;AACA;AACA;AACA,KAJA;AAKA;AACA;AACA;AACA;AACA,KATA;AAUA;AACA;AACA,kEADA;AAEA;AACA;AACA;AACA;AACA,WAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAZA;AAaA;AACA;AACA,SAfA;;AAiBA,KA5BA;AA6BA,YA7BA,oBA6BA,IA7BA,EA6BA,KA7BA,EA6BA;AACA;AACA;AACA;AACA,KAjCA;AAkCA,SAlCA,mBAkCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SARA;;AAUA,KA7CA;;AA+CA,eA/CA,uBA+CA,CA/CA,EA+CA;AACA;AACA,KAjDA;;AAmDA;AACA;AACA;AACA,KAtDA;AAuDA,eAvDA,yBAuDA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCADA;AAEA,0CAFA;AAGA;AACA;AACA;AACA,0DADA;;AAGA,SARA;AASA;AACA;AACA;AACA;AACA,+CADA;AAEA,cAFA,CAEA;AACA;AACA;AACA,WALA;AAMA,SAlBA;AAmBA,YAnBA,gBAmBA,GAnBA,EAmBA;AACA;AACA,SArBA;AAsBA,gBAtBA,sBAsBA,EAtBA;;AAwBA,KAhGA;AAiGA,eAjGA,yBAiGA;;AAEA,KAnGA;;AAqGA,UArGA,oBAqGA;AACA;AACA;AACA;AACA;AACA,mBADA,CACA,OADA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,0DADA;AAEA,8BAFA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AANA,iBAHA;AAWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBALA;;AAOA,iBApBA;AAqBA;AACA;AACA,iBAvBA;;AAyBA,aA7BA,EA6BA,GA7BA;;AA+BA,WAlCA,MAkCA;AACA;AACA;AACA,0DADA;AAEA,4BAFA;AAGA;AACA,2CADA;AAEA,qCAFA,EAHA;;AAOA;AACA;AACA;AACA,mCADA;AAEA,gCAFA;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA,qBALA;;AAOA,iBARA,EAQA,GARA,CAJA;AAaA,eAtBA;;;AAyBA;;AAEA;AACA,OA5EA;AA6EA,KApLA,EAzGA,E;;;;;;;;;;;;;AC9DA;AAAA;AAAA;AAAA;AAAsxC,CAAgB,mvCAAG,EAAC,C;;;;;;;;;;;ACA1yC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/mine/store/store-edit.js","sourcesContent":["import 'uni-pages';wx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/mine/store/store-edit.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./store-edit.vue?vue&type=template&id=4b2238f7&\"\nvar renderjs\nimport script from \"./store-edit.vue?vue&type=script&lang=js&\"\nexport * from \"./store-edit.vue?vue&type=script&lang=js&\"\nimport style0 from \"./store-edit.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/mine/store/store-edit.vue\"\nexport default component.exports","export * from \"-!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./store-edit.vue?vue&type=template&id=4b2238f7&\"","var components\ntry {\n  components = {\n    uniForms: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-forms/components/uni-forms/uni-forms\" */ \"@/uni_modules/uni-forms/components/uni-forms/uni-forms.vue\"\n      )\n    },\n    uniEasyinput: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-easyinput/components/uni-easyinput/uni-easyinput\" */ \"@/uni_modules/uni-easyinput/components/uni-easyinput/uni-easyinput.vue\"\n      )\n    },\n    uniDataCheckbox: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-data-checkbox/components/uni-data-checkbox/uni-data-checkbox\" */ \"@/uni_modules/uni-data-checkbox/components/uni-data-checkbox/uni-data-checkbox.vue\"\n      )\n    },\n    uniIcons: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-icons/components/uni-icons/uni-icons\" */ \"@/uni_modules/uni-icons/components/uni-icons/uni-icons.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./store-edit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./store-edit.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"content\">\r\n\t\t<view class=\"forms\" style=\"position: fixed;\">\r\n\t\t\t<uni-forms ref=\"baseForm\" :value=\"storeInfo\" :rules=\"rules\">\r\n\t\t\t\t<uniFormsItem label=\"商家名称\" name=\"storeName\" required>\r\n\t\t\t\t\t<uni-easyinput placeholder=\"请输入商家名称\" v-model=\"storeInfo.name\" />\r\n\t\t\t\t</uniFormsItem>\r\n\r\n\t\t\t\t<uniFormsItem label=\"商家介绍\">\r\n\t\t\t\t\t<uni-easyinput placeholder=\"请输入商家介绍\" v-model=\"storeInfo.description\" type=\"textarea\" />\r\n\t\t\t\t</uniFormsItem>\r\n\t\t\t\t<uniFormsItem label=\"商家类型\" required>\r\n\t\t\t\t\t<uni-data-checkbox v-model=\"storeInfo.category_id\" :localdata=\"types\" />\r\n\t\t\t\t</uniFormsItem>\r\n\r\n\t\t\t\t<uniFormsItem label=\"商家地址\" name=\"address\" required>\r\n\t\t\t\t\t<view class=\"map\">\r\n\t\t\t\t\t\t<view @click=\"inputHandle\" v-if=\"!storeInfo.address\">\r\n\t\t\t\t\t\t\t<uni-icons type=\"location\"></uni-icons>\r\n\t\t\t\t\t\t\t点击选择商家地址\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view @click=\"inputHandle\" v-else>\r\n\t\t\t\t\t\t\t<uni-icons type=\"location\"></uni-icons>{{storeInfo.address}}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</uniFormsItem>\r\n\r\n\t\t\t\t<uniFormsItem label=\"联系人\" name=\"name\" required>\r\n\t\t\t\t\t<uni-easyinput placeholder=\"请输入商家联系人\" v-model=\"storeInfo.link_name\" required />\r\n\t\t\t\t</uniFormsItem>\r\n\t\t\t\t<uniFormsItem label=\"商家联系电话\" name=\"phone\" required>\r\n\t\t\t\t\t<uni-easyinput placeholder=\"请输入商家联系电话\" v-model=\"storeInfo.link_phone\" type=\"number\" />\r\n\t\t\t\t</uniFormsItem>\r\n\t\t\t\t<uniFormsItem label=\"营业时间\" required>\r\n\t\t\t\t\t<picker mode=\"time\" :value=\"storeTime.startTime\" start=\"06:00\" end=\"00:00\"\r\n\t\t\t\t\t\t@change=\"bindTimeChange($event,'startTime')\">\r\n\t\t\t\t\t\t<view class=\"input-time\">{{storeTime.startTime}}</view>\r\n\t\t\t\t\t</picker>\r\n\t\t\t\t\t<view style=\"float: left;line-height: 60rpx;margin: 0 20rpx;margin-top: 10rpx;\">——</view>\r\n\t\t\t\t\t<picker mode=\"time\" :value=\"storeTime.endTime\" start=\"06:00\" end=\"00:00\"\r\n\t\t\t\t\t\t@change=\"bindTimeChange($event,'endTime')\">\r\n\t\t\t\t\t\t<view class=\"input-time\">{{storeTime.endTime}}</view>\r\n\t\t\t\t\t</picker>\r\n\r\n\t\t\t\t</uniFormsItem>\r\n\t\t\t</uni-forms>\r\n\t\t\t<view class=\"chooseImg\" @click=\"chooseImg\">营业执照上传</view>\r\n\t\t\t<image class=\"imgShow\" :src=\"imageValue\" mode=\"aspectFill\" style=\"z-index: 1;\"></image>\r\n\t\t\t\r\n\t\t\t<view class=\"submitForms\">\r\n\t\t\t\t<button class=\"submit\" @click=\"submit\">提交</button> \r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<gmy-img-cropper style=\"z-index: 999999;\" ref=\"gmyImgCropper\" quality=\"0.5\" cropperType=\"free\"\r\n\t\t\t @getImg=\"getImg\"></gmy-img-cropper>\r\n\t\t\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport gmyImgCropper from 'gmy-img-cropper/gmy-img-cropper.vue'\r\n\timport uniFormsItem from '@/uni_modules/uni-forms/components/uni-forms-item/uni-forms-item'\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\timageValue: '../../../static/business.png',\r\n\t\t\t\tshopId: -1,\r\n\t\t\t\timageInfo:{},\r\n\t\t\t\tstoreInfo: {\r\n\t\t\t\t\tname: '',\r\n\t\t\t\t\tuser_id: '',\r\n\t\t\t\t\tlink_name: \"\",\r\n\t\t\t\t\tlink_phone: \"\",\r\n\t\t\t\t\tdescription: '',\r\n\t\t\t\t\tcategory_id: '',\r\n\t\t\t\t\taddress: '',\r\n\t\t\t\t\tbusiness_hours: '',\r\n\t\t\t\t},\r\n\t\t\t\trules: {\r\n\t\t\t\t\tstoreName: {\r\n\t\t\t\t\t\trules: [{\r\n\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\terrorMessage: '请输入商家名称'\r\n\t\t\t\t\t\t}]\r\n\t\t\t\t\t},\r\n\t\t\t\t\tname: {\r\n\t\t\t\t\t\trules: [{\r\n\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\terrorMessage: '请输入商家联系人'\r\n\t\t\t\t\t\t}]\r\n\t\t\t\t\t},\r\n\t\t\t\t\taddress: {\r\n\t\t\t\t\t\trules: [{\r\n\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\terrorMessage: '请输入商家地址'\r\n\t\t\t\t\t\t}]\r\n\t\t\t\t\t},\r\n\t\t\t\t\tphone: {\r\n\t\t\t\t\t\trules: [{\r\n\t\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\t\terrorMessage: '请输入商家联系电话'\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tpattern: '(^(((13[0-9]{1})|(15[0-9]{1})|(18[0-9]{1})|(17[0-9]{1}))+\\\\d{8})$)|(^0\\\\d{2,3}-?\\\\d{7,8}$)',\r\n\t\t\t\t\t\t\t\terrorMessage: '请输入正确的联系电话',\r\n\t\t\t\t\t\t\t},\r\n\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t\tvalidateTrigger: \"bind\"\r\n\t\t\t\t\t},\r\n\r\n\t\t\t\t},\r\n\t\t\t\ttypes: [{\r\n\t\t\t\t\t\t\"value\": 1,\r\n\t\t\t\t\t\t\"text\": \"学业\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t\"value\": 2,\r\n\t\t\t\t\t\t\"text\": \"运动\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t\"value\": 3,\r\n\t\t\t\t\t\t\"text\": \"音乐\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t\"value\": 4,\r\n\t\t\t\t\t\t\"text\": \"美术\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t\"value\": 5,\r\n\t\t\t\t\t\t\"text\": \"语言\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t\"value\": 6,\r\n\t\t\t\t\t\t\"text\": \"早教\"\r\n\t\t\t\t\t},\r\n\t\t\t\t],\r\n\t\t\t\t//选择地址\r\n\t\t\t\tborder: true,\r\n\t\t\t\tlatitude: '',\r\n\t\t\t\tlongitude: '',\r\n\t\t\t\tmarkers: [{\r\n\t\t\t\t\tlatitude: '',\r\n\t\t\t\t\tlongitude: '',\r\n\t\t\t\t}],\r\n\t\t\t\t//选择营业时间\r\n\t\t\t\tstoreTime: {\r\n\t\t\t\t\tstartTime: '08:00',\r\n\t\t\t\t\tendTime: '22:00'\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad: function(option) {\r\n\t\t\tif (option.userId) {\r\n\t\t\t\tconsole.log('创建', option)\r\n\t\t\t\tthis.storeInfo.user_id = option.userId\r\n\t\t\t\tconsole.log(this.storeInfo.user_id)\r\n\t\t\t} else {\r\n\t\t\t\tthis.shopId = option.shopId\r\n\t\t\t\tconsole.log(this.shopId)\r\n\t\t\t\tthis.getStoreInfo(this.shopId)\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomponents: {\r\n\t\t\tgmyImgCropper,\r\n\t\t\tuniFormsItem,\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tchooseImg: function() {\r\n\t\t\t\t// 调用实例的chooseImg方法，拉起图片选择界面，待图片选择完毕后直接进入图片截取界面\r\n\t\t\t\tthis.$refs.gmyImgCropper.chooseImage();\r\n\t\t\t},\r\n\t\t\t// 点击完成时，返回截取图片的临时路径\r\n\t\t\tgetImg: function(e) {\r\n\t\t\t\tconsole.log(\"父页面拿到了图片\", e);\r\n\t\t\t\tthis.imageValue = e;\r\n\t\t\t},\r\n\t\t\tgetStoreInfo: function(shopId) {\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\turl: 'http://localhost:8081/getStoreInfo?shopId=' + shopId,\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\tif (res.data.length == '0') {\r\n\t\t\t\t\t\t\tconsole.log(\"未获取到店铺信息\")\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tconsole.log(\"已获取到店铺信息\", res)\r\n\t\t\t\t\t\t\tthis.storeInfo = res.data[0]\r\n\t\t\t\t\t\t\tthis.imageValue = this.storeInfo.businessPic\r\n\t\t\t\t\t\t\tconsole.log(this.storeInfo.is_full)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: (err) => {\r\n\t\t\t\t\t\tconsole.log(err)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tsetValue(name, value) {\r\n\t\t\t\t// 设置表单某项对应得值来触发表单校验\r\n\t\t\t\t// 接受两个参数，第一个参数为表单域的 name ，第二个参数为表单域的值\r\n\t\t\t\tthis.$refs.form.setValue(name, value)\r\n\t\t\t},\r\n\t\t\tframe() {\r\n\t\t\t\tuni.chooseLocation({\r\n\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\tthis.latitude = res.latitude;\r\n\t\t\t\t\t\tthis.longitude = res.longitude;\r\n\t\t\t\t\t\tthis.storeInfo.address = res.address;\r\n\t\t\t\t\t\tthis.markers[0].latitude = res.latitude;\r\n\t\t\t\t\t\tthis.markers[0].longitude = res.longitude;\r\n\t\t\t\t\t\tconsole.log(this.markers)\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t\tinputHandle(e) {\r\n\t\t\t\tthis.frame();\r\n\t\t\t},\r\n\r\n\t\t\tbindTimeChange: function(e, time) {\r\n\t\t\t\tthis.$set(this.storeTime, time, e.detail.value)\r\n\t\t\t\tconsole.log(e.detail.value, this.storeTime.endTime)\r\n\t\t\t},\r\n\t\t\tuploadImage(){\r\n\t\t\t\tvar date = new Date()\r\n\t\t\t\tvar year = date.getFullYear()\r\n\t\t\t\tvar month = date.getMonth() + 1\r\n\t\t\t\tvar day = date.getDate()\r\n\t\t\t\tmonth >= 1 && month <= 9 ? (month = \"0\" + month) : \"\";\r\n\t\t\t\tday >= 0 && day <= 9 ? (day = \"0\" + day) : \"\";\r\n\t\t\t\t\r\n\t\t\t\tlet str = 'abcdefghijklmnopqrstuvwxyz0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ';\r\n\t\t\t\tlet num = '';\r\n\t\t\t\tfor (let i = 0; i < 10; i++) {\r\n\t\t\t\t\tnum += str.charAt(Math.floor(Math.random() * str.length));\r\n\t\t\t\t};\r\n\t\t\t\tconsole.log(num)\r\n\t\t\t\tconsole.log(this.imageValue)\r\n\t\t\t\tconsole.log(year + month + day +'/'+ num + '.jpg')\r\n\t\t\t\tthis.$set(this.imageInfo,'fileSave',year + month + day +'/'+ num + '.jpg')\r\n\t\t\t\tuniCloud.uploadFile({\r\n\t\t\t\t\tfilePath: this.imageValue,\r\n\t\t\t\t\tcloudPath: this.imageInfo.fileSave,\r\n\t\t\t\t\tonUploadProgress: function(progressEvent) {\r\n\t\t\t\t\t\tconsole.log(progressEvent);\r\n\t\t\t\t\t\tvar percentCompleted = Math.round(\r\n\t\t\t\t\t\t\t(progressEvent.loaded * 100) / progressEvent.total\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess:(res) => {\r\n\t\t\t\t\t\tconsole.log(\"成功存储\",res)\r\n\t\t\t\t\t\tthis.$set(this.imageInfo,'fileId',res.fileID)\r\n\t\t\t\t\t\tuniCloud.getTempFileURL({\r\n\t\t\t\t\t\t\tfileList:[this.imageInfo.fileId]\r\n\t\t\t\t\t\t}).then(res=>{\r\n\t\t\t\t\t\t\tconsole.log('url:',res.fileList[0].tempFileURL)\r\n\t\t\t\t\t\t\tthis.$set(this.imageInfo,'fileUrl',res.fileList[0].tempFileURL)\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail(err) {\r\n\t\t\t\t\t\tconsole.log(\"未成功存储\",err)\r\n\t\t\t\t\t},\r\n\t\t\t\t\tcomplete() {}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tupdateImage(){\r\n\t\t\t\t\r\n\t\t\t},\r\n\r\n\t\t\tsubmit() {\r\n\t\t\t\t// this.uploadImage()\r\n\t\t\t\tthis.$refs.baseForm.validate(['id'], (err, formData) => {\r\n\t\t\t\t\tif (!err) {\r\n\t\t\t\t\t\tthis.$set(this.storeInfo, 'business_hours', this.storeTime.startTime + '——' + this\r\n\t\t\t\t\t\t\t.storeTime.endTime)\r\n\t\t\t\t\t\tthis.$delete(this.storeInfo,'storePic')\r\n\t\t\t\t\t\tthis.$delete(this.storeInfo,'businessPic')\r\n\t\t\t\t\t\tif(this.storeInfo.latitude != \"\"){\r\n\t\t\t\t\t\t\tthis.$set(this.storeInfo,'latitude',this.markers[0].latitude)\r\n\t\t\t\t\t\t\tthis.$set(this.storeInfo,'longitude',this.markers[0].longitude)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tconsole.log('success', this.storeInfo)\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (this.shopId == -1) {\r\n\t\t\t\t\t\t\t// this.uploadImage()\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t\t\t\t// console.log(\"youba\",this.imageInfo.fileUrl)\r\n\t\t\t\t\t\t\t\t// console.log(this.imageInfo.fileSave)\r\n\t\t\t\t\t\t\t\t// console.log(this.imageInfo.fileId)\r\n\t\t\t\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\t\t\t\turl: 'http://localhost:8081/editStoreInfo',\r\n\t\t\t\t\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\t\t\t\tstoreInfo: this.storeInfo,\r\n\t\t\t\t\t\t\t\t\t\t// imageInfo:{\r\n\t\t\t\t\t\t\t\t\t\t// \tfile_url:this.imageInfo.fileUrl,\r\n\t\t\t\t\t\t\t\t\t\t// \tsave_name:this.imageInfo.fileSave,\r\n\t\t\t\t\t\t\t\t\t\t// \tfile_name:this.imageInfo.fileId,\r\n\t\t\t\t\t\t\t\t\t\t// }\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\t\t\t\tconsole.log(\"店铺提交完成，待审核\", res)\r\n\t\t\t\t\t\t\t\t\t\tuni.navigateBack({\r\n\t\t\t\t\t\t\t\t\t\t\tsuccess: (e) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tvar page = getCurrentPages().pop();\r\n\t\t\t\t\t\t\t\t\t\t\t\tif (page == undefined || page == null) return;\r\n\t\t\t\t\t\t\t\t\t\t\t\tpage.onLoad();\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tfail: (err) => {\r\n\t\t\t\t\t\t\t\t\t\tconsole.log(\"err:\", err)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t},600)\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tconsole.log(this.shopId)\r\n\t\t\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\t\t\turl: 'http://localhost:8081/updateStoreInfo',\r\n\t\t\t\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\t\t\tstoreInfo: this.storeInfo,\r\n\t\t\t\t\t\t\t\t\tshopId: this.shopId,\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\t\t\tconsole.log(\"店铺信息保存完毕\", res)\r\n\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: '店铺信息保存完毕',\r\n\t\t\t\t\t\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\t\t\t\t\t\tuni.navigateBack({\r\n\t\t\t\t\t\t\t\t\t\t\t\tsuccess: (e) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvar page = getCurrentPages().pop();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (page == undefined || page == null) return;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tpage.onLoad();\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t}, 500)\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t})\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\t@import \"@/styles/mine/store-edit\";\r\n\r\n\tpage {\r\n\t\tbackground-color: #FFFFFF;\r\n\t}\r\n</style>\n","import mod from \"-!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./store-edit.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./store-edit.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1650730939045\n      var cssReload = require(\"D:/Program Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}