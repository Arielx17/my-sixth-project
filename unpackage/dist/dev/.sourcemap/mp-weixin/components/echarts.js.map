{"version":3,"sources":["webpack:///F:/1A毕设/bnplatform/components/echarts.vue?a73f","webpack:///F:/1A毕设/bnplatform/components/echarts.vue?1e56","webpack:///F:/1A毕设/bnplatform/components/echarts.vue?59c1","webpack:///F:/1A毕设/bnplatform/components/echarts.vue?ad50","uni-app:///components/echarts.vue","webpack:///F:/1A毕设/bnplatform/components/echarts.vue?1e6f","webpack:///F:/1A毕设/bnplatform/components/echarts.vue?53f1"],"names":[],"mappings":"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","file":"components/echarts.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./echarts.vue?vue&type=template&id=899caee2&scoped=true&\"\nvar renderjs\nimport script from \"./echarts.vue?vue&type=script&lang=js&\"\nexport * from \"./echarts.vue?vue&type=script&lang=js&\"\nimport style0 from \"./echarts.vue?vue&type=style&index=0&id=899caee2&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"899caee2\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/echarts.vue\"\nexport default component.exports","export * from \"-!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./echarts.vue?vue&type=template&id=899caee2&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./echarts.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./echarts.vue?vue&type=script&lang=js&\"","<template>\n  <view class=\"ec-canvas\">\n    <canvas v-if=\"canvasId && !imgBase64\" class=\"ec-canvas\" :id=\"canvasId\" :canvasId=\"canvasId\" @touchstart=\"touchStart\"\n      @touchmove=\"touchMove\" @touchend=\"touchEnd\" @error=\"error\"></canvas>\n      <img class=\"ec-canvas\" :src=\"imgBase64\" />\n  </view>\n</template>\n\n<script>\n  import WxCanvas from './src/wx-canvas.js';\n  import * as echarts from '@/node_modules/echarts/dist/echarts.min.js'; /*chart.min.js为在线定制*/\n\n  export default {\n    props: {\n      // echarts: {  \n      //   required: true,  \n      //   type: Object,  \n      //   default() {  \n      //     return echarts;  \n      //   }  \n      // },  \n\n      canvasId: {\n        type: String,\n        default: 'ec-canvas'\n      },\n      lazyLoad: {\n        type: Boolean,\n        default: false\n      },\n      disableTouch: {\n        type: Boolean,\n        default: true\n      },\n      throttleTouch: {\n        type: Boolean,\n        default: true\n      }\n    },\n    data(){\n      return {\n        imgBase64: ''\n      }\n    },\n    onReady() {\n      if (!echarts) {\n        console.warn('组件需绑定 echarts 变量，例：<ec-canvas id=\"mychart-dom-bar\" ' +\n          'canvas-id=\"mychart-bar\" :echarts=\"echarts\"></ec-canvas>');\n        return;\n      }\n      if (!this.lazyLoad) this.init();\n    },\n    methods: {\n      init() {\n        let self = this;\n        const version = wx.version.version.split('.').map(n => parseInt(n, 10));\n        const isValid = version[0] > 1 || (version[0] === 1 && version[1] > 9) || (version[0] === 1 && version[1] ===\n          9 && version[2] >= 91);\n        if (!isValid) {\n          console.error('微信基础库版本过低，需大于等于 1.9.91。' + '参见：https://github.com/ecomfe/echarts-for-weixin' +\n            '#%E5%BE%AE%E4%BF%A1%E7%89%88%E6%9C%AC%E8%A6%81%E6%B1%82');\n          return;\n        }\n\n\n        const canvasId = this.canvasId;\n        this.ctx = wx.createCanvasContext(canvasId, this);\n\n        const canvas = new WxCanvas(this.ctx, canvasId);\n\n        echarts.setCanvasCreator(() => canvas);\n\n        const query = wx.createSelectorQuery().in(this);\n        query\n          .select(`#${canvasId}`)\n          .boundingClientRect(res => {\n            if (!res) {\n              //setTimeout(() => this.init(), 200);  \n              return;\n            }\n\n            this.chart = this.$emit('onInit', {\n              canvas,\n              width: res.width,\n              height: res.height\n            });\n            setTimeout(() => {\n              self.canvasToImg({\n                width: res.width,\n                height: res.height\n              })\n            }, 500);  \n          })\n          .exec();\n      },\n      canvasToTempFilePath(opt) {\n        const {\n          canvasId\n        } = this;\n        this.ctx.draw(true, () => {\n          wx.canvasToTempFilePath({\n            canvasId,\n            ...opt\n          });\n        });\n      },\n      touchStart(e) {\n        const {\n          disableTouch\n        } = this;\n        if (disableTouch || !e.mp.touches.length) return;\n        const touch = e.mp.touches[0];\n        echarts._zr.handler.dispatch('mousedown', {\n          zrX: touch.x,\n          zrY: touch.y\n        });\n        echarts._zr.handler.dispatch('mousemove', {\n          zrX: touch.x,\n          zrY: touch.y\n        });\n      },\n      touchMove(e) {\n        const {\n          disableTouch,\n          throttleTouch,\n          lastMoveTime\n        } = this;\n        if (disableTouch || !e.mp.touches.length) return;\n\n        if (throttleTouch) {\n          const currMoveTime = Date.now();\n          if (currMoveTime - lastMoveTime < 240) return;\n          this.lastMoveTime = currMoveTime;\n        }\n\n        const touch = e.mp.touches[0];\n        echarts._zr.handler.dispatch('mousemove', {\n          zrX: touch.x,\n          zrY: touch.y\n        });\n      },\n      touchEnd(e) {\n        const {\n          disableTouch\n        } = this;\n        if (disableTouch) return;\n        const touch = e.mp.changedTouches ? e.mp.changedTouches[0] : {};\n        echarts._zr.handler.dispatch('mouseup', {\n          zrX: touch.x,\n          zrY: touch.y\n        });\n        echarts._zr.handler.dispatch('click', {\n          zrX: touch.x,\n          zrY: touch.y\n        });\n      },\n      // canvas转图片\n      canvasToImg(options){\n        let self = this;\n        uni.canvasToTempFilePath({\n            x: 0, // 起点坐标\n            y: 0,\n            width: options.width, // canvas 宽\n            height: options.height, // canvas 高\n            canvasId: self.canvasId, // canvas id\n            success(res) {\n              \n              const savedFilePath = res.tempFilePath //相对路径\n              uni.getFileSystemManager().readFile({\n                  filePath: savedFilePath, //选择图片返回的相对路径\n                  encoding: 'base64', //编码格式\n                  success: res1 => { //成功的回调\n                      self.imgBase64 = 'data:image/jpeg;base64,' + res1.data //不加上这串字符，在页面无法显示的哦\n                  },fail: (e) => {\n                      self.imgBase64 = savedFilePath;\n                      console.log(\"图片转换失败\");\n                  }\n              })\n            },\n            fail(err){\n              console.log(err)\n            }\n        },this)   \n      }\n    }\n  };\n</script>\n\n<style scoped>\n  .ec-canvas {\n    width: 100%;\n    height: 100%;\n    flex: 1;\n  }\n</style>\n","import mod from \"-!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./echarts.vue?vue&type=style&index=0&id=899caee2&scoped=true&lang=css&\"; export default mod; export * from \"-!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./echarts.vue?vue&type=style&index=0&id=899caee2&scoped=true&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1647936494023\n      var cssReload = require(\"D:/Program Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}